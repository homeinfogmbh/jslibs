var immobrowse=immobrowse||{};immobrowse.logger=new homeinfo.logging.Logger("immobrowse",homeinfo.logging.DEBUG);immobrowse.config={};immobrowse.compare=function(e,t,n){if(e==null){if(t==null){return 0}else{return Infinity}}else{if(t==null){return-Infinity}else{var s=0;if(e<t){s=-1}else{if(t<e){s=1}}if(n){s=s*-1}return s}}};immobrowse.getSorter=function(e,t){var n=false;if(t=="descending"){n=true}switch(e){case"rooms":return this.sortByRooms(n);case"area":return this.sortByArea(n);case"rent":return this.sortByRent(n);case"street":return this.sortByStreet(n);default:throw"Invalid sorting property: "+e}};immobrowse.sortByRooms=function(e){return function(t,n){return immobrowse.compare(t.rooms(),n.rooms(),e)}};immobrowse.sortByArea=function(e){return function(t,n){return immobrowse.compare(t.area(),n.area(),e)}};immobrowse.sortByRent=function(e){return function(t,n){return immobrowse.compare(t.rent(),n.rent(),e)}};immobrowse.sortByStreet=function(e){return function(t,n){return immobrowse.compare(t.street(),n.street(),e)}};immobrowse.setValue=function(e,t){if(t==null){if(e.container!=null){e.container.hide()}else{e.html(this.na)}}else{if(e.value!=null){e.value.html(t)}else{e.html(t)}}};immobrowse.escapeHtml=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","ä":"&auml;","ö":"&#ouml;","ü":"&#uuml;","Ä":"&#Auml;","Ö":"&#Ouml;","Ü":"&#Uuml;","ß":"&#szlig;"};return String(e).replace(/[&<>"'\/äöüÄÖÜß]/g,function(e){return t[e]})};immobrowse.euroHtml=function(e){if(e==null){return"N/A"}else{return(e.toFixed(2)+" &euro;").replace(".",",")}};immobrowse.squareMetersHtml=function(e){if(e==null){return"N/A"}else{return(e.toFixed(2)+" m&sup2;").replace(".",",")}};immobrowse.getRealEstate=function(e,t,n){$.ajax({url:"https://tls.homeinfo.de/immobrowse/real_estate/"+t+"?customer="+e,success:function(t){n(new immobrowse.RealEstate(e,t))},error:function(){swal({title:"Immobilie konnten nicht geladen werden.",text:"Bitte versuchen Sie es später noch ein Mal.",type:"error"})}})};immobrowse.getRealEstates=function(e,t){$.ajax({url:"https://tls.homeinfo.de/immobrowse/list/"+e,success:function(n){var s=[];for(var i=0;i<n.length;i++){s.push(new immobrowse.RealEstate(e,n[i]))}t(s)},error:function(){swal({title:"Immobilien konnten nicht geladen werden.",text:"Bitte versuchen Sie es später noch ein Mal.",type:"error"})}})};immobrowse.open=function(e){window.open(e,"_self")};immobrowse.mkContactMail=function(e,t,n,s,i,r,l,a,u,h){html="<!DOCTYPE HTML>\n";html+="<h1>Anfrage zu Objekt Nr. <strong>"+e+"</strong></h1>\n<br>\n";html+=t+" "+n+" "+s+"\n<br>\n";if(r){html+=r}if(l){html+=l}if(r||l){html+="<br>\n"}if(a){html+=a}if(u){if(a){html+=" "}html+=" "+u}if(a||u){html+="<br>\n"}if(i){html+="Tel.: "+i+"\n<br>\n"}html+="hat folgende Anfrage an Sie:\n<br>\n<br>\n";html+="<p>"+h.replace("\n","\n<br>\n")+"</p>";return html};immobrowse.Mailer=function(e,t,n,s){this.baseUrl="https://tls.homeinfo.de/hisecon";this.config=e;if(t==null){this.html=true}else{this.html=t}if(n==null){this.successMsg={title:"Anfrage versendet!",type:"success"}}else{this.successMsg=n}if(s==null){this.errorMsg={title:"Fehler beim Versenden!",text:"Bitte versuchen Sie es später noch ein Mal.",type:"error"}}else{this.errorMsg=s}this.getUrl=function(e,t,n,s){var i=this.baseUrl+"?config="+this.config;if(e){i+="&response="+e}else{immobrowse.logger.warning("No reCAPTCHA response provided.")}if(t){i+="&subject="+t}else{immobrowse.logger.warning("No subject provided.")}if(n){i+="&recipient="+n}else{immobrowse.logger.warning("No recipient specified.")}if(s){i+="&reply_to="+s}if(this.html){i+="&html=true"}return i};this.getAjax=function(e,t){var n=this.successMsg;var s=this.errorMsg;return{url:e,type:"POST",data:t,cache:false,success:function(e){swal(n)},error:function(e){swal(s)}}};this.send=function(e,t,n,s,i){$.ajax(this.getAjax(this.getUrl(e,t,s,i),n))}};immobrowse.RealEstate=function(e,t){this.oval='<div class="oval-outer"><div class="oval-inner">{}</div></div>';this.kwh='<span class="fraction"><span class="numerator">kWh</span><span class="denominator">m<sup>2</sup>&middot;a</span></span>';this.na="k. A.";for(var n in t){if(t.hasOwnProperty(n)){this[n]=t[n]}}this.cid=e;this.addressPreview=function(){if(this.geo==null){return"N/A"}else{if(this.geo.strasse==null){return"N/A"}else{if(this.geo.hausnummer==null){return this.geo.strasse}else{return this.geo.strasse+" "+this.geo.hausnummer}}}};this.cityPreview=function(){if(this.geo==null){return"N/A"}else{if(this.geo.ort==null){return"N/A"}else{if(this.geo.regionaler_zusatz==null||this.geo.regionaler_zusatz==this.geo.ort){return this.geo.ort}else{return this.geo.ort+" "+this.geo.regionaler_zusatz}}}};this.objektnr_extern=function(){return this.verwaltung_techn.objektnr_extern};this.objectTitle=function(){if(this.freitexte!=null){if(this.freitexte.objekttitel!=null){return this.freitexte.objekttitel}}var e="";var t=this.rooms();if(t==null){e+="Wohnung | "}else{e+=t+" Zimmer Wohnung | "}if(this.showAddress()){e+=this.addressPreview();e+=" | "}e+=this.cityPreview();return e};this.titleImage=function(){if(this.anhaenge==null){return null}else{if(this.anhaenge.anhang==null){return null}else{for(var e=0;e<this.anhaenge.anhang.length;e++){var t=this.anhaenge.anhang[e];if(t.gruppe=="TITELBILD"){return t}}for(var e=0;e<this.anhaenge.anhang.length;e++){var t=this.anhaenge.anhang[e];if(t.gruppe=="AUSSENANSICHTEN"){return t}}for(var e=0;e<this.anhaenge.anhang.length;e++){var t=this.anhaenge.anhang[e];if(t.gruppe=="BILD"){return t}}for(var e=0;e<this.anhaenge.anhang.length;e++){var t=this.anhaenge.anhang[e];if(t.gruppe=="GRUNDRISS"){return t}}return null}}};this.street=function(){if(this.geo==null){return null}else{if(this.geo.strasse==null){return null}else{return this.geo.strasse}}};this.rooms=function(){if(this.flaechen==null){return null}else{if(this.flaechen.anzahl_zimmer==null){return null}else{return homeinfo.str.dot2comma(this.flaechen.anzahl_zimmer.toString())}}};this.area=function(){if(this.flaechen==null){return null}else{if(this.flaechen.wohnflaeche==null){if(this.flaechen.nutzflaeche==null){if(this.flaechen.gesamtflaeche==null){return null}else{return this.flaechen.gesamtflaeche}}else{return this.flaechen.nutzflaeche}}else{return this.flaechen.wohnflaeche}}};this.netColdRent=function(){if(this.preise==null){return null}else{if(this.preise.nettokaltmiete==null){return null}else{return this.preise.nettokaltmiete}}};this.coldRent=function(){if(this.preise==null){return null}else{if(this.preise.kaltmiete==null){return null}else{return this.preise.kaltmiete}}};this.rent=function(){var e=this.netColdRent();if(e==null){e=this.coldRent()}if(e!=null){return immobrowse.euroHtml(e)}return null};this.cableSatTv=function(){if(this.ausstattung==null){return null}else{return this.ausstattung.kabel_sat_tv}};this.builtInKitchen=function(){if(this.ausstattung==null){return false}else{if(this.ausstattung.kueche==null){return false}else{return this.ausstattung.kueche.EBK}}};this.basementRoom=function(){if(this.ausstattung==null){return null}else{return this.ausstattung.unterkellert=="JA"}};this.balconies=function(){if(this.flaechen==null){return 0}else{if(this.flaechen.anzahl_balkone==null){return 0}else{return this.flaechen.anzahl_balkone}}};this.terraces=function(){if(this.flaechen==null){return 0}else{if(this.flaechen.anzahl_terrassen==null){return 0}else{return this.flaechen.anzahl_terrassen}}};this.shower=function(){if(this.ausstattung==null){return false}else{if(this.ausstattung.bad==null){return false}else{return this.ausstattung.bad.DUSCHE}}};this.bathTub=function(){if(this.ausstattung==null){return false}else{if(this.ausstattung.bad==null){return false}else{return this.ausstattung.bad.WANNE}}};this.bathroomWindow=function(){if(this.ausstattung==null){return false}else{if(this.ausstattung.bad==null){return false}else{return this.ausstattung.bad.FENSTER}}};this.lavatoryDryingRoom=function(){if(this.ausstattung==null){return false}else{return this.ausstattung.wasch_trockenraum}};this.barrierFree=function(){if(this.ausstattung==null){return false}else{return this.ausstattung.barrierefrei}};this.objectTypes=function(){var e=[];var t=this.objektkategorie.objektart;if(t.zimmer!=null){e.push("ZIMMER")}if(t.wohnung!=null){e.push("WOHNUNG");e.concat(t.wohnung)}return e};this.marketingTypes=function(){var e=[];var t=this.objektkategorie.vermarktungsart;if(t.KAUF){e.push("KAUF")}if(t.MIETE_PACHT){e.push("MIETE_PACHT")}if(t.ERBPACHT){e.push("ERBPACHT")}if(t.LEASING){e.push("LEASING")}return e};this.showAddress=function(){if(this.verwaltung_objekt==null){return true}else{if(this.verwaltung_objekt.objektadresse_freigeben==null){return true}else{return this.verwaltung_objekt.objektadresse_freigeben}}};this.primaerenergietraeger=function(){var e=this.zustand_angaben.energiepass[0].primaerenergietraeger;switch(e){case"OEL":return"Öl";case"GAS":return"Gas";case"ELEKTRO":return"Elektisch";case"ALTERNATIV":return"Alternativ";case"SOLAR":return"Solar";case"ERDWAERME":return"Erdwärme";case"LUFTWP":return"Wärmepumpe Luft-Wasser";case"FERN":return"Fernwärme";case"BLOCK":return"Blockheizkraftwerk";case"WASSER-ELEKTRO":return"Ergänzendes dezentrales Warmwasser";case"PELLET":return"Pellet";case"KOHLE":return"Kohle";case"HOLZ":return"Holz";case"FLUESSIGGAS":return"Flüssiggas"}return e};this.zustand=function(){var e=this.zustand_angaben.zustand;switch(e){case"ERSTBEZUG":return"Erstbezug";case"TEIL_VOLLRENOVIERUNGSBED":return"Teil-/Vollrenovierungsbedürftig";case"NEUWERTIG":return"Neuwertig";case"TEIL_VOLLRENOVIERT":return"Teil-/Vollrenoviert";case"TEIL_SANIERT":return"Teilsaniert";case"VOLL_SANIERT":return"Vollsaniert";case"SANIERUNGSBEDUERFTIG":return"Sanierungsbedürftig";case"BAUFAELLIG":return"Baufällig";case"NACH_VEREINBARUNG":return"Nach Vereinbarung";case"MODERNISIERT":return"Modernisiert";case"GEPFLEGT":return"Gepflegt";case"ROHBAU":return"Rohbau";case"ENTKERNT":return"Entkernt";case"ABRISSOBJEKT":return"Abrissobjekt";case"PROJEKTIERT":return"Projektiert"}return e};this.district=function(){return this.geo.regionaler_zusatz};this.matchTypes=function(e){if(e==null){return true}else{var t=this.objectTypes();for(var n=0;n<t.length;n++){if(e.indexOf(t[n])>=0){return true}}return false}};this.matchMarketing=function(e){if(e==null){return true}else{var t=this.marketingTypes();for(var n=0;n<t.length;n++){if(e.indexOf(t[n])>=0){return true}}return false}};this.attachmentURL=function(e){if(e==null){return null}else{return"https://tls.homeinfo.de/immobrowse/attachment/"+e.id+"?customer="+this.cid+"&objektnr_extern="+this.objektnr_extern()}};this.detailsURL=function(e){if(e==null){return null}else{return e+"?customer="+this.cid+"&objektnr_extern="+this.objektnr_extern()}};this.miscellanea=function(){if(this.freitexte!=null){if(!homeinfo.str.isEmpty(this.freitexte.sonstige_angaben)){return this.freitexte.sonstige_angaben}}return null};this.description=function(){if(this.freitexte!=null){if(!homeinfo.str.isEmpty(this.freitexte.objektbeschreibung)){return this.freitexte.objektbeschreibung}}return null};this.exposure=function(){if(this.freitexte!=null){if(!homeinfo.str.isEmpty(this.freitexte.lage)){return this.freitexte.lage}}return null};this.attachments=function(){var e=[];if(this.anhaenge!=null){if(this.anhaenge.anhang!=null){for(i=0;i<this.anhaenge.anhang.length;i++){e.push(this.anhaenge.anhang[i])}}}return e};this.images=function(){var e=this.attachments();var t=["TITELBILD","BILD","AUSSENANSICHTEN","INNENANSICHTEN"];var n=[];for(var s=0;s<e.length;s++){if(t.indexOf(e[s].gruppe)>=0){n.push(e[s])}}return n};this.floorplans=function(){var e=this.attachments();var t=[];for(var n=0;n<e.length;n++){if(e[n].gruppe=="GRUNDRISS"){t.push(e[n])}}return t};this.floorplan=function(){return this.floorplans()[0]};this.furnishingTags=function(){var e="";if(this.ausstattung!=null){if(this.flaechen!=null){if(this.flaechen.anzahl_balkone>0){e+=this.oval.replace("{}","Balkon")}}if(this.ausstattung.barrierefrei){e+=this.oval.replace("{}","Barrierefrei")}if(this.ausstattung.kabel_sat_tv){e+=this.oval.replace("{}","Kabel / Sat. / TV")}if(this.ausstattung.unterkellert){e+=this.oval.replace("{}","Keller")}if(this.ausstattung.rollstuhlgerecht){e+=this.oval.replace("{}","Rollstuhlgerecht")}if(this.ausstattung.bad!=null){if(this.ausstattung.bad.FENSTER){e+=this.oval.replace("{}","Fenster im Bad")}if(this.ausstattung.bad.WANNE){e+=this.oval.replace("{}","Badewanne")}if(this.ausstattung.bad.DUSCHE){e+=this.oval.replace("{}","Dusche")}}if(this.ausstattung.kueche!=null){if(this.ausstattung.kueche.EBK){e+=this.oval.replace("{}","Einbauk&uuml;che")}}if(this.ausstattung.stellplatzart!=null){if(this.ausstattung.stellplatzart.FREIPLATZ){e+=this.oval.replace("{}","Stellplatz")}}if(this.ausstattung.fahrstuhl!=null){if(this.ausstattung.fahrstuhl.PERSONEN){e+=this.oval.replace("{}","Personenaufzug")}}}return e};this.floor=function(){var e=". ";var t="Dachgeschoss";var n="Obergeschoss";var s="Erdgeschoss";var i="Untergeschoss";if(immobrowse.config.shortFloorNames){t="DG";n="OG";s="EG";i="UG"}if(this.geo!=null){if(this.geo.etage!=null){if(this.geo.anzahl_etagen!=null){if(this.geo.etage==this.geo.anzahl_etagen){return t}}if(this.geo.etage<0){return-this.geo.etage+e+i}else if(this.geo.etage>0){return this.geo.etage+e+n}else{return s}}}};this.renderPrices=function(e){if(e.coldRent!=null){var t=this.rent();if(t!=null){immobrowse.setValue(e.coldRent,immobrowse.euroHtml(this.preise.nettokaltmiete))}else{immobrowse.setValue(e.coldRent)}}if(e.serviceCharge!=null){if(this.preise.nebenkosten!=null){e.serviceCharge.html(immobrowse.euroHtml(this.preise.nebenkosten))}else{e.serviceCharge.html(this.na)}}if(e.heatingCosts!=null){if(this.preise.heizkosten!=null){e.heatingCosts.html(immobrowse.euroHtml(this.preise.heizkosten))}else{e.heatingCosts.html(this.na)}}if(e.heatingCostsInServiceCharge!=null){if(this.preise.heizkosten_enthalten!=null){if(this.preise.heizkosten_enthalten==true){e.heatingCostsInServiceCharge.html("Ja")}else{e.heatingCostsInServiceCharge.html("Nein")}}else{e.heatingCostsInServiceCharge.html(this.na)}}if(e.securityDeposit!=null){if(this.preise.kaution!=null){e.securityDeposit.html(immobrowse.euroHtml(this.preise.kaution))}else{e.securityDeposit.html(this.na)}}if(e.subjectToCommission!=null){if(this.preise.provisionspflichtig!=null){if(this.preise.provisionspflichtig){e.subjectToCommission.html("Ja")}else{e.subjectToCommission.html("Nein")}}}};this.renderArea=function(e){if(e.livingArea!=null){if(this.flaechen.wohnflaeche!=null){e.livingArea.html(immobrowse.squareMetersHtml(this.flaechen.wohnflaeche))}else{e.livingArea.html(this.na)}}if(e.rooms!=null){if(this.flaechen.anzahl_zimmer!=null){e.rooms.html(this.rooms())}else{e.rooms.html(this.na)}}};this.renderGeo=function(e){if(e.floor!=null){immobrowse.setValue(e.floor,this.floor())}};this.renderManagement=function(e){if(e.availableFrom!=null){if(this.verwaltung_objekt!=null){if(this.verwaltung_objekt.verfuegbar_ab!=null){e.availableFrom.html(this.verwaltung_objekt.verfuegbar_ab)}else{e.availableFrom.html(this.na)}}else{e.availableFrom.html(this.na)}}if(e.councilFlat!=null){if(this.verwaltung_objekt!=null){if(this.verwaltung_objekt.wbs_sozialwohnung==true){e.councilFlat.html("Ja")}else{e.councilFlat.html(this.na)}}else{e.councilFlat.html(this.na)}}};this.renderState=function(e){if(e.constructionYear!=null){if(this.zustand_angaben!=null){if(this.zustand_angaben.baujahr!=null){e.constructionYear.html(this.zustand_angaben.baujahr)}else{e.constructionYear.html(this.na)}}else{e.constructionYear.html(this.na)}}if(e.state!=null){if(this.zustand_angaben!=null){if(this.zustand_angaben.zustand!=null){e.state.html(this.zustand())}else{e.state.html(this.na)}}else{e.state.html(this.na)}}if(e.lastModernization!=null){if(this.zustand_angaben!=null){if(this.zustand_angaben.letztemodernisierung!=null){e.lastModernization.html(this.zustand_angaben.letztemodernisierung)}else{e.lastModernization.html(this.na)}}else{e.lastModernization.html(this.na)}}if(e.energyCertificate!=null){this.renderEnergyCertificate(e.energyCertificate)}};this.renderEnergyCertificate=function(e){var t;try{t=this.zustand_angaben.energiepass[0]}catch(e){t={}}if(e.type!=null){if(t.epart==null){e.type.html("Nicht angegeben")}else if(t.epart=="VERBRAUCH"){e.type.html("Verbrauchsausweis")}else{e.type.html("Bedarfsausweis")}}if(t.epart==null){if(e.demandContainer!=null){e.demandContainer.hide()}if(e.consumptionContainer!=null){e.consumptionContainer.hide()}}else if(t.epart=="VERBRAUCH"){if(e.consumption!=null){if(t.energieverbrauchkennwert!=null&&t.energieverbrauchkennwert!=""){e.consumption.html(t.energieverbrauchkennwert+this.kwh)}else{e.consumption.html(this.na)}}if(e.consumptionContainer!=null){e.consumptionContainer.show()}if(e.demandContainer!=null){e.demandContainer.hide()}}else{if(e.demand!=null){if(t.endenergiebedarf!=null&&t.endenergiebedarf!=""){e.demand.html(t.endenergiebedarf+this.kwh)}else{e.demand.html(this.na)}}if(e.demandContainer!=null){e.demandContainer.show()}if(e.consumptionContainer!=null){e.consumptionContainer.hide()}}if(e.primaryEnergyCarrier!=null){if(t.primaerenergietraeger!=null){e.primaryEnergyCarrier.html(this.primaerenergietraeger())}else{e.primaryEnergyCarrier.html(this.na)}}if(e.valueClass!=null){if(t.wertklasse!=null){e.valueClass.html(t.wertklasse)}else{e.valueClass.html(this.na)}}};this.renderFreeTexts=function(e){if(e.description!=null){immobrowse.setValue(e.description,this.description())}if(e.exposure!=null){immobrowse.setValue(e.exposure,this.exposure())}if(e.miscellanea!=null){immobrowse.setValue(e.miscellanea,this.miscellanea())}};this.renderContact=function(e){if(e.salutation!=null){if(this.kontaktperson.anrede!=null){e.salutation.html(this.kontaktperson.anrede)}else{e.salutation.html(this.na)}}if(e.firstName!=null){if(this.kontaktperson.vorname!=null){e.firstName.html(this.kontaktperson.vorname)}else{e.firstName.html(this.na)}}if(e.lastName!=null){e.lastName.html(this.kontaktperson.name)}if(e.company!=null){if(this.kontaktperson.firma!=null){e.company.html(this.kontaktperson.firma)}else{e.company.html(this.na)}}if(e.street!=null){if(this.kontaktperson.strasse!=null){e.street.html(this.kontaktperson.strasse)}else{e.street.html(this.na)}}if(e.houseNumber!=null){if(this.kontaktperson.hausnummer!=null){e.houseNumber.html(this.kontaktperson.hausnummer)}else{e.houseNumber.html(this.na)}}if(e.streetAndHouseNumber!=null){if(this.kontaktperson.strasse!=null&&this.kontaktperson.hausnummer!=null){e.streetAndHouseNumber.html(this.kontaktperson.strasse+" "+this.kontaktperson.hausnummer)}else{e.streetAndHouseNumber.html(this.na)}}if(e.zipCode!=null){if(this.kontaktperson.plz!=null){e.zipCode.html(this.kontaktperson.plz)}else{e.zipCode.html(this.na)}}if(e.city!=null){if(this.kontaktperson.ort!=null){e.city.html(this.kontaktperson.ort)}else{e.city.html(this.na)}}if(e.zipCodeAndCity!=null){if(this.kontaktperson.plz!=null&&this.kontaktperson.ort!=null){e.zipCodeAndCity.html(this.kontaktperson.plz+" "+this.kontaktperson.ort)}else{e.zipCodeAndCity.html(this.na)}}if(e.phone!=null){if(this.kontaktperson.tel_durchw!=null){e.phone.html(this.kontaktperson.tel_durchw)}else if(this.kontaktperson.tel_zentrale!=null){e.phone.html(this.kontaktperson.tel_direkt)}else{e.phone.html(this.na)}}if(e.website!=null){if(this.kontaktperson.url!=null){e.website.html(this.kontaktperson.url)}else{e.website.html(this.na)}}};this.render=function(e){if(e.linkElement!=null){e.linkElement.attr("onclick",'immobrowse.open("'+this.detailsURL("expose.html")+'");')}if(e.objectTitle!=null){e.objectTitle.html(this.objectTitle())}if(e.prices!=null){this.renderPrices(e.prices)}if(e.area!=null){this.renderArea(e.area)}if(e.geo!=null){this.renderGeo(e.geo)}if(e.management!=null){this.renderManagement(e.management)}if(e.state!=null){this.renderState(e.state)}if(e.freeTexts!=null){this.renderFreeTexts(e.freeTexts)}if(e.contact!=null){this.renderContact(e.contact)}if(e.furnishingTags!=null){e.furnishingTags.html(this.furnishingTags())}if(e.titleImage!=null){e.titleImage.attr("src",this.attachmentURL(this.titleImage()))}}};immobrowse.List=function(e,t){this.cid=e;this.realEstates=t;this.filteredRealEstates=t;this.match=function(e,t){var n=e.rent();if(t.priceMin>n){return false}if(t.priceMax<n){return false}if(t.areaMin!=null){if(e.flaechen==null){return false}else if(t.areaMin>e.flaechen.wohnflaeche){return false}}if(t.roomsMin!=null){if(e.flaechen==null){return false}else if(t.roomsMin>e.flaechen.anzahl_zimmer){return false}}if(t.ebk){if(e.ausstattung==null){return false}else if(e.ausstattung.kueche==null){return false}else if(!e.ausstattung.kueche.EBK){return false}}if(t.bathtub){if(e.ausstattung==null){return false}else if(e.ausstattung.bad==null){return false}else if(!e.ausstattung.bad.WANNE){return false}}if(t.carSpace){if(e.ausstattung==null){return false}else if(e.ausstattung.stellplatzart==null){return false}else if(!e.ausstattung.stellplatzart.TIEFGARAGE){return false}}if(t.elevator){if(e.ausstattung==null){return false}else if(e.ausstattung.fahrstuhl==null){return false}else if(!e.ausstattung.fahrstuhl.PERSONEN){return false}}if(t.garden){if(e.ausstattung==null){return false}else if(!e.ausstattung.gartennutzung){return false}}if(t.districts.length>0){if(t.districts.indexOf(e.district())<0){return false}}return true};this.filter=function(e){this.filteredRealEstates=[];for(var t=0;t<this.realEstates.length;t++){if(this.match(this.realEstates[t],e)){this.filteredRealEstates.push(this.realEstates[t])}else{immobrowse.logger.debug("Discarding: "+this.realEstates[t].objektnr_extern())}}if(!this.filteredRealEstates){immobrowse.logger.warning("No real estates available after filtering.")}};this.sort=function(e,t){immobrowse.logger.debug("Sorting by "+e+" "+t+".");this.filteredRealEstates.sort(immobrowse.getSorter(e,t))};this.districts=function(){var e=[];for(var t=0;t<this.realEstates.length;t++){var n=this.realEstates[t].district();if(n!=null){if(e[n]!=undefined){e[n]+=1}else{e[n]=1}}}return e};this.copy=function(e,t){var n=e.clone();n.find("*").map(function(){if(this.id!=""){this.id+="_"+t}});return n};this.render=function(e,t,n,s){e.html("");for(var i=0;i<this.filteredRealEstates.length;i++){var r=this.copy(t,i);e.html(e.html()+r.html());this.filteredRealEstates[i].render(n(i))}}};
